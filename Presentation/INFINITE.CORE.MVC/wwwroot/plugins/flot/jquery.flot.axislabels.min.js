!function(e){"use strict";function n(t,i,e,s,a,h){this.axisName=t,this.position=i,this.padding=e,this.placeholder=s,this.axisLabel=a,this.surface=h,this.width=0,this.height=0,this.elem=null}n.prototype.calculateSize=function(){var t=this.axisName+"Label",t=this.surface.getTextInfo(t+"Layer",this.axisLabel,t+" axisLabels");this.labelWidth=t.width,this.labelHeight=t.height,"left"===this.position||"right"===this.position?(this.width=this.labelHeight+this.padding,this.height=0):(this.width=0,this.height=this.labelHeight+this.padding)},n.prototype.transforms=function(t,i,e,s){var a,h=[];return 0===i&&0===e||((a=s.createSVGTransform()).setTranslate(i,e),h.push(a)),0!==t&&(i=s.createSVGTransform(),e=Math.round(this.labelWidth/2),i.setRotate(t,e,0),h.push(i)),h},n.prototype.calculateOffsets=function(t){var i={x:0,y:0,degrees:0};return"bottom"===this.position?(i.x=t.left+t.width/2-this.labelWidth/2,i.y=t.top+t.height-this.labelHeight):"top"===this.position?(i.x=t.left+t.width/2-this.labelWidth/2,i.y=t.top):"left"===this.position?(i.degrees=-90,i.x=t.left-this.labelWidth/2,i.y=t.height/2+t.top):"right"===this.position&&(i.degrees=90,i.x=t.left+t.width-this.labelWidth/2,i.y=t.height/2+t.top),i.x=Math.round(i.x),i.y=Math.round(i.y),i},n.prototype.cleanup=function(){var t=this.axisName+"Label";this.surface.removeText(t+"Layer",0,0,this.axisLabel,t+" axisLabels")},n.prototype.draw=function(t){var i=this.axisName+"Label",e=i+"Layer",i=i+" axisLabels",t=this.calculateOffsets(t),s={position:"absolute",bottom:"",right:"",display:"inline-block","white-space":"nowrap"},a=this.surface.getSVGLayer(e),t=this.transforms(t.degrees,t.x,t.y,a.parentNode);this.surface.addText(e,0,0,this.axisLabel,i,void 0,void 0,void 0,void 0,t),this.surface.render(),Object.keys(s).forEach(function(t){a.style[t]=s[t]})},e.plot.plugins.push({init:function(t){t.hooks.processOptions.push(function(t,i){var o;i.axisLabels.show&&(o={},t.hooks.axisReserveSpace.push(function(t,i){var e,s,a=i.options,h=i.direction+i.n;i.labelHeight+=i.boxPosition.centerY,i.labelWidth+=i.boxPosition.centerX,a&&a.axisLabel&&i.show&&(e=void 0===a.axisLabelPadding?2:a.axisLabelPadding,(s=o[h])||(s=new n(h,a.position,e,t.getPlaceholder()[0],a.axisLabel,t.getSurface()),o[h]=s),s.calculateSize(),i.labelHeight+=s.height,i.labelWidth+=s.width)}),t.hooks.draw.push(function(t,i){e.each(t.getAxes(),function(t,i){var e=i.options;e&&e.axisLabel&&i.show&&(e=i.direction+i.n,o[e].draw(i.box))})}),t.hooks.shutdown.push(function(t,i){for(var e in o)o[e].cleanup()}))})},options:{axisLabels:{show:!0}},name:"axisLabels",version:"3.0"})}(jQuery);