!function(P){function I(e){var t="",o=e.name,l=e.xPos,n=e.yPos,i=e.fillColor,s=e.strokeColor,r=e.strokeWidth;switch(o){case"circle":t='<use xlink:href="#circle" class="legendIcon" x="'+l+'" y="'+n+'" fill="'+i+'" stroke="'+s+'" stroke-width="'+r+'" width="1.5em" height="1.5em"/>';break;case"diamond":t='<use xlink:href="#diamond" class="legendIcon" x="'+l+'" y="'+n+'" fill="'+i+'" stroke="'+s+'" stroke-width="'+r+'" width="1.5em" height="1.5em"/>';break;case"cross":t='<use xlink:href="#cross" class="legendIcon" x="'+l+'" y="'+n+'" stroke="'+s+'" stroke-width="'+r+'" width="1.5em" height="1.5em"/>';break;case"rectangle":t='<use xlink:href="#rectangle" class="legendIcon" x="'+l+'" y="'+n+'" fill="'+i+'" stroke="'+s+'" stroke-width="'+r+'" width="1.5em" height="1.5em"/>';break;case"plus":t='<use xlink:href="#plus" class="legendIcon" x="'+l+'" y="'+n+'" stroke="'+s+'" stroke-width="'+r+'" width="1.5em" height="1.5em"/>';break;case"bar":t='<use xlink:href="#bars" class="legendIcon" x="'+l+'" y="'+n+'" fill="'+i+'" width="1.5em" height="1.5em"/>';break;case"area":t='<use xlink:href="#area" class="legendIcon" x="'+l+'" y="'+n+'" fill="'+i+'" width="1.5em" height="1.5em"/>';break;case"line":t='<use xlink:href="#line" class="legendIcon" x="'+l+'" y="'+n+'" stroke="'+s+'" stroke-width="'+r+'" width="1.5em" height="1.5em"/>';break;default:t='<use xlink:href="#circle" class="legendIcon" x="'+l+'" y="'+n+'" fill="'+i+'" stroke="'+s+'" stroke-width="'+r+'" width="1.5em" height="1.5em"/>'}return t}var Z='<defs><symbol id="line" fill="none" viewBox="-5 -5 25 25"><polyline points="0,15 5,5 10,10 15,0"/></symbol><symbol id="area" stroke-width="1" viewBox="-5 -5 25 25"><polyline points="0,15 5,5 10,10 15,0, 15,15, 0,15"/></symbol><symbol id="bars" stroke-width="1" viewBox="-5 -5 25 25"><polyline points="1.5,15.5 1.5,12.5, 4.5,12.5 4.5,15.5 6.5,15.5 6.5,3.5, 9.5,3.5 9.5,15.5 11.5,15.5 11.5,7.5 14.5,7.5 14.5,15.5 1.5,15.5"/></symbol><symbol id="circle" viewBox="-5 -5 25 25"><circle cx="0" cy="15" r="2.5"/><circle cx="5" cy="5" r="2.5"/><circle cx="10" cy="10" r="2.5"/><circle cx="15" cy="0" r="2.5"/></symbol><symbol id="rectangle" viewBox="-5 -5 25 25"><rect x="-2.1" y="12.9" width="4.2" height="4.2"/><rect x="2.9" y="2.9" width="4.2" height="4.2"/><rect x="7.9" y="7.9" width="4.2" height="4.2"/><rect x="12.9" y="-2.1" width="4.2" height="4.2"/></symbol><symbol id="diamond" viewBox="-5 -5 25 25"><path d="M-3,15 L0,12 L3,15, L0,18 Z"/><path d="M2,5 L5,2 L8,5, L5,8 Z"/><path d="M7,10 L10,7 L13,10, L10,13 Z"/><path d="M12,0 L15,-3 L18,0, L15,3 Z"/></symbol><symbol id="cross" fill="none" viewBox="-5 -5 25 25"><path d="M-2.1,12.9 L2.1,17.1, M2.1,12.9 L-2.1,17.1 Z"/><path d="M2.9,2.9 L7.1,7.1 M7.1,2.9 L2.9,7.1 Z"/><path d="M7.9,7.9 L12.1,12.1 M12.1,7.9 L7.9,12.1 Z"/><path d="M12.9,-2.1 L17.1,2.1 M17.1,-2.1 L12.9,2.1 Z"/></symbol><symbol id="plus" fill="none" viewBox="-5 -5 25 25"><path d="M0,12 L0,18, M-3,15 L3,15 Z"/><path d="M5,2 L5,8 M2,5 L8,5 Z"/><path d="M10,7 L10,13 M7,10 L13,10 Z"/><path d="M15,-3 L15,3 M12,0 L18,0 Z"/></symbol></defs>';function B(e,t){for(var o in e)if(e.hasOwnProperty(o)&&e[o]!==t[o])return 1}P.plot.plugins.push({init:function(e){e.hooks.setupGrid.push(function(e){var o,n,t=e.getOptions(),l=e.getData(),i=t.legend.labelFormatter,s=t.legend.legendEntries,r=t.legend.plotOffset,l=(i=i,a=t.legend.sorted,n=i,i=l.reduce(function(e,t,o){var l=n?n(t.label,t):t.label;return t.hasOwnProperty("label")&&!l||(l={label:l||"Plot "+(o+1),color:t.color,options:{lines:t.lines,points:t.points,bars:t.bars}},e.push(l)),e},[]),a&&(P.isFunction(a)?i.sort(a):"reverse"===a?i.reverse():(o="descending"!==a,i.sort(function(e,t){return e.label===t.label?0:e.label<t.label!=o?1:-1}))),i),a=e.getPlotOffset();if(function(e,t){if(!e||!t)return 1;if(e.length!==t.length)return 1;for(var o,l,n=0;n<t.length;n++){if(o=t[n],l=e[n],o.label!==l.label)return 1;if(o.color!==l.color)return 1;if(B(o.options.lines,l.options.lines))return 1;if(B(o.options.points,l.options.points))return 1;if(B(o.options.bars,l.options.bars))return 1}}(s,l)||B(r,a)){var h=e,d=t,i=e.getPlaceholder(),s=l;if(null!=d.legend.container?P(d.legend.container).html(""):i.find(".legend").remove(),d.legend.show){for(var c,g=d.legend.legendEntries=s,s=d.legend.plotOffset=h.getPlotOffset(),p=[],f=0,r="",a=d.legend.position,t=d.legend.margin,m={name:"",label:"",xPos:"",yPos:""},b=(p[f++]='<svg class="legendLayer" style="width:inherit;height:inherit;">',p[f++]='<rect class="background" width="100%" height="100%"/>',p[f++]=Z,0),y=[],u=window.getComputedStyle(document.querySelector("body")),x=0;x<g.length;++x){var w=x%d.legend.noColumns,k=g[x];m.label=k.label;var v=h.getSurface().getTextInfo("",m.label,{style:u.fontStyle,variant:u.fontVariant,weight:u.fontWeight,size:parseInt(u.fontSize),lineHeight:parseInt(u.lineHeight),family:u.fontFamily}).width;(!y[w]||y[w]<v)&&(y[w]=v+48)}for(x=0;x<g.length;++x){var L=x%d.legend.noColumns;k=g[x],c="",m.label=k.label,m.xPos=b+3+"px",b+=y[L],(x+1)%d.legend.noColumns==0&&(b=0),m.yPos=1.5*Math.floor(x/d.legend.noColumns)+"em",k.options.lines.show&&k.options.lines.fill&&(m.name="area",m.fillColor=k.color,c+=I(m)),k.options.bars.show&&(m.name="bar",m.fillColor=k.color,c+=I(m)),k.options.lines.show&&!k.options.lines.fill&&(m.name="line",m.strokeColor=k.color,m.strokeWidth=k.options.lines.lineWidth,c+=I(m)),k.options.points.show&&(m.name=k.options.points.symbol,m.strokeColor=k.color,m.fillColor=k.options.points.fillColor,m.strokeWidth=k.options.points.lineWidth,c+=I(m)),p[f++]="<g>"+c+('<text x="'+m.xPos+'" y="'+m.yPos+'" text-anchor="start"><tspan dx="2em" dy="1.2em">'+m.label+"</tspan></text>")+"</g>"}p[f++]="</svg>",null==t[0]&&(t=[t,t]),"n"===a.charAt(0)?r+="top:"+(t[1]+s.top)+"px;":"s"===a.charAt(0)&&(r+="bottom:"+(t[1]+s.bottom)+"px;"),"e"===a.charAt(1)?r+="right:"+(t[0]+s.right)+"px;":"w"===a.charAt(1)&&(r+="left:"+(t[0]+s.left)+"px;");var M=6;for(x=0;x<y.length;++x)M+=y[x];var C,a=1.6*Math.ceil(g.length/d.legend.noColumns);d.legend.container?(C=P(p.join("")).appendTo(d.legend.container)[0],d.legend.container.style.width=M+"px",d.legend.container.style.height=a+"em"):((C=P('<div class="legend" style="position:absolute;'+r+'">'+p.join("")+"</div>").appendTo(i)).css("width",M+"px"),C.css("height",a+"em"),C.css("pointerEvents","none"))}}})},options:{legend:{show:!1,noColumns:1,labelFormatter:null,container:null,position:"ne",margin:5,sorted:null}},name:"legend",version:"1.0"})}(jQuery);