!function(t){"use strict";var y=t.plot.saturated.floorInBase,i=function(e,t){var e=new e(t),o=e.setTime.bind(e),i=(e.update=function(e){e=Math.round(1e3*e)/1e3,o(e),this.microseconds=1e3*(e-Math.floor(e))},e.getTime.bind(e));return e.getTime=function(){return i()+this.microseconds/1e3},e.setTime=function(e){this.update(e)},e.getMicroseconds=function(){return this.microseconds},e.setMicroseconds=function(e){var t=i();this.update(t+e/1e3)},e.setUTCMicroseconds=function(e){this.setMicroseconds(e)},e.getUTCMicroseconds=function(){return this.getMicroseconds()},e.microseconds=null,e.microEpoch=null,e.update(t),e};function m(e,t,o,i){if("function"==typeof e.strftime)return e.strftime(t);for(var n,s=function(e,t){return t=""+(null==t?"0":t),1===(e=""+e).length?t+e:e},r=[],c=!1,a=e.getHours(),m=a<12,u=(o=o||["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=i||["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n=12<a?a-12:0===a?12:a,-1),d=0;d<t.length;++d){var l=t.charAt(d);if(!isNaN(Number(l))&&0<Number(l))u=Number(l);else if(c){switch(l){case"a":l=""+i[e.getDay()];break;case"b":l=""+o[e.getMonth()];break;case"d":l=s(e.getDate());break;case"e":l=s(e.getDate()," ");break;case"h":case"H":l=s(a);break;case"I":l=s(n);break;case"l":l=s(n," ");break;case"m":l=s(e.getMonth()+1);break;case"M":l=s(e.getMinutes());break;case"q":l=""+(Math.floor(e.getMonth()/3)+1);break;case"S":l=s(e.getSeconds());break;case"s":l=""+function(e,t,o){e=1e3*e+t;return o<6&&0<o?(t=parseFloat("1e"+(o-6)),("00000"+(e=Math.round(Math.round(e*t)/t))).slice(-6,-(6-o))):("00000"+(e=Math.round(e))).slice(-6)}(e.getMilliseconds(),e.getMicroseconds(),u);break;case"y":l=s(e.getFullYear()%100);break;case"Y":l=""+e.getFullYear();break;case"p":l=m?"am":"pm";break;case"P":l=m?"AM":"PM";break;case"w":l=""+e.getDay()}r.push(l),c=!1}else"%"===l?c=!0:r.push(l)}return r.join("")}function n(e){function t(e,t,o,i){e[t]=function(){return o[i].apply(o,arguments)}}for(var o={date:e},i=(void 0!==e.strftime&&t(o,"strftime",e,"strftime"),t(o,"getTime",e,"getTime"),t(o,"setTime",e,"setTime"),["Date","Day","FullYear","Hours","Minutes","Month","Seconds","Milliseconds","Microseconds"]),n=0;n<i.length;n++)t(o,"get"+i[n],e,"getUTC"+i[n]),t(o,"set"+i[n],e,"setUTC"+i[n]);return o}function S(e,t){var o=864e13;return t&&"seconds"===t.timeBase?e*=1e3:"microseconds"===t.timeBase&&(e/=1e3),o<e?e=o:e<-o&&(e=-o),"browser"===t.timezone?i(Date,e):t.timezone&&"utc"!==t.timezone&&"undefined"!=typeof timezoneJS&&void 0!==timezoneJS.Date?((o=i(timezoneJS.Date,e)).setTimezone(t.timezone),o.setTime(e),o):n(i(Date,e))}var T={microsecond:1e-6,millisecond:.001,second:1,minute:60,hour:3600,day:86400,month:2592e3,quarter:7776e3,year:525949.2*60},z={microsecond:.001,millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},b={microsecond:1,millisecond:1e3,second:1e6,minute:6e7,hour:36e8,day:864e8,month:2592e9,quarter:7776e9,year:525949.2*60*1e6},e=[[1,"microsecond"],[2,"microsecond"],[5,"microsecond"],[10,"microsecond"],[25,"microsecond"],[50,"microsecond"],[100,"microsecond"],[250,"microsecond"],[500,"microsecond"],[1,"millisecond"],[2,"millisecond"],[5,"millisecond"],[10,"millisecond"],[25,"millisecond"],[50,"millisecond"],[100,"millisecond"],[250,"millisecond"],[500,"millisecond"],[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],v=e.concat([[3,"month"],[6,"month"],[1,"year"]]),q=e.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);function o(e){var t=e.options,o=[],i=S(e.min,t),n=0,s=t.tickSize&&"quarter"===t.tickSize[1]||t.minTickSize&&"quarter"===t.minTickSize[1]?q:v,r="seconds"===t.timeBase?T:"microseconds"===t.timeBase?b:z;null!==t.minTickSize&&void 0!==t.minTickSize&&(n="number"==typeof t.tickSize?t.tickSize:t.minTickSize[0]*r[t.minTickSize[1]]);for(var c=0;c<s.length-1&&!(e.delta<(s[c][0]*r[s[c][1]]+s[c+1][0]*r[s[c+1][1]])/2&&s[c][0]*r[s[c][1]]>=n);++c);var a,m,u=s[c][0],d=s[c][1],l=("year"===d&&(null!==t.minTickSize&&void 0!==t.minTickSize&&"year"===t.minTickSize[1]?u=Math.floor(t.minTickSize[0]):(a=parseFloat("1e"+Math.floor(Math.log(e.delta/r.year)/Math.LN10)),u=(m=e.delta/r.year/a)<1.5?1:m<3?2:m<7.5?5:10,u*=a),u<1)&&(u=1),e.tickSize=t.tickSize||[u,d],e.tickSize[0]),h=l*r[d=e.tickSize[1]],M=("microsecond"===d?i.setMicroseconds(y(i.getMicroseconds(),l)):"millisecond"===d?i.setMilliseconds(y(i.getMilliseconds(),l)):"second"===d?i.setSeconds(y(i.getSeconds(),l)):"minute"===d?i.setMinutes(y(i.getMinutes(),l)):"hour"===d?i.setHours(y(i.getHours(),l)):"month"===d?i.setMonth(y(i.getMonth(),l)):"quarter"===d?i.setMonth(3*y(i.getMonth()/3,l)):"year"===d&&i.setFullYear(y(i.getFullYear(),l)),h>=r.millisecond&&i.setMicroseconds(0),h>=r.second&&i.setMilliseconds(0),h>=r.minute&&i.setSeconds(0),h>=r.hour&&i.setMinutes(0),h>=r.day&&i.setHours(0),h>=4*r.day&&i.setDate(1),h>=2*r.month&&i.setMonth(y(i.getMonth(),3)),h>=2*r.quarter&&i.setMonth(y(i.getMonth(),6)),h>=r.year&&i.setMonth(0),0),f=Number.NaN;do{var g,k=f,p=i.getTime(),f=t&&"seconds"===t.timeBase?p/1e3:t&&"microseconds"===t.timeBase?1e3*p:p}while(o.push(f),"month"===d||"quarter"===d?l<1?(i.setDate(1),p=i.getTime(),i.setMonth(i.getMonth()+("quarter"===d?3:1)),g=i.getTime(),i.setTime(f+M*r.hour+(g-p)*l),M=i.getHours(),i.setHours(0)):i.setMonth(i.getMonth()+l*("quarter"===d?3:1)):"year"===d?i.setFullYear(i.getFullYear()+l):"seconds"===t.timeBase?i.setTime(1e3*(f+h)):"microseconds"===t.timeBase?i.setTime((f+h)/1e3):i.setTime(f+h),f<e.max&&f!==k);return o}t.plot.plugins.push({init:function(e){e.hooks.processOptions.push(function(e){t.each(e.getAxes(),function(e,t){var a=t.options;"time"===a.mode&&(t.tickGenerator=o,"tickFormatter"in a&&"function"==typeof a.tickFormatter||(t.tickFormatter=function(e,t){var o,i,n,s,r,c,e=S(e,t.options);return null!=a.timeformat?m(e,a.timeformat,a.monthNames,a.dayNames):(o=t.options.tickSize&&"quarter"===t.options.tickSize[1]||t.options.minTickSize&&"quarter"===t.options.minTickSize[1],i="seconds"===a.timeBase?T:"microseconds"===a.timeBase?b:z,n=t.tickSize[0]*i[t.tickSize[1]],t=t.max-t.min,s=a.twelveHourClock?" %p":"",r=a.twelveHourClock?"%I":"%H",c="seconds"===a.timeBase?1:"microseconds"===a.timeBase?1e6:1e3,m(e,n<i.second?(e=-Math.floor(Math.log10(n/c)),-1<String(n).indexOf("25")&&e++,"%S.%"+e+"s"):n<i.minute?r+":%M:%S"+s:n<i.day?t<2*i.day?r+":%M"+s:"%b %d "+r+":%M"+s:n<i.month?"%b %d":o&&n<i.quarter||!o&&n<i.year?t<i.year?"%b":"%b %Y":o&&n<i.year?t<i.year?"Q%q":"Q%q %Y":"%Y",a.monthNames,a.dayNames))}))})})},options:{xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null,timeBase:"seconds"},yaxis:{timeBase:"seconds"}},name:"time",version:"1.0"}),t.plot.formatDate=m,t.plot.dateGenerator=S,t.plot.dateTickGenerator=o,t.plot.makeUtcWrapper=n}(jQuery);