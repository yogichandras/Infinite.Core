!function(n){function t(t,e){var i=e.getElementsByClassName(t)[0];if(!i&&((i=document.createElement("canvas")).className=t,i.style.direction="ltr",i.style.position="absolute",i.style.left="0px",i.style.top="0px",e.appendChild(i),!i.getContext))throw new Error("Canvas is not available.");this.element=i,t=this.context=i.getContext("2d"),this.pixelRatio=n.plot.browser.getPixelRatio(t),i=n(e).width(),t=n(e).height(),this.resize(i,t),this.SVGContainer=null,this.SVG={},this._textCache={}}function y(e,t){e.transform.baseVal.clear(),t&&t.forEach(function(t){e.transform.baseVal.appendItem(t)})}t.prototype.resize=function(t,e){e=e<10?10:e;var i=this.element,n=this.context,l=this.pixelRatio;this.width!==(t=t<10?10:t)&&(i.width=t*l,i.style.width=t+"px",this.width=t),this.height!==e&&(i.height=e*l,i.style.height=e+"px",this.height=e),n.restore(),n.save(),n.scale(l,l)},t.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},t.prototype.render=function(){var t,e=this._textCache;for(t in e)if(hasOwnProperty.call(e,t)){var i,n=this.getSVGLayer(t),l=e[t],r=n.style.display;for(i in n.style.display="none",l)if(hasOwnProperty.call(l,i)){var o,s=l[i];for(o in s)if(hasOwnProperty.call(s,o)){for(var h,a=s[o],d=a.positions,p=0;d[p];p++)if((h=d[p]).active)h.rendered||(n.appendChild(h.element),h.rendered=!0);else if(d.splice(p--,1),h.rendered){for(;h.element.firstChild;)h.element.removeChild(h.element.firstChild);h.element.parentNode.removeChild(h.element)}0===d.length&&(a.measured?a.measured=!1:delete s[o])}}n.style.display=r}},t.prototype.getSVGLayer=function(t){var e,i=this.SVG[t];return i||(this.SVGContainer?e=this.SVGContainer.firstChild:(this.SVGContainer=document.createElement("div"),this.SVGContainer.className="flot-svg",this.SVGContainer.style.position="absolute",this.SVGContainer.style.top="0px",this.SVGContainer.style.left="0px",this.SVGContainer.style.height="100%",this.SVGContainer.style.width="100%",this.SVGContainer.style.pointerEvents="none",this.element.parentNode.appendChild(this.SVGContainer),(e=document.createElementNS("http://www.w3.org/2000/svg","svg")).style.width="100%",e.style.height="100%",this.SVGContainer.appendChild(e)),(i=document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("class",t),i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.bottom="0px",i.style.right="0px",e.appendChild(i),this.SVG[t]=i),i},t.prototype.getTextInfo=function(t,e,i,n,l){e=""+e,r="object"==typeof i?i.style+" "+i.variant+" "+i.weight+" "+i.size+"px/"+i.lineHeight+"px "+i.family:i,null==(o=(s=null==(s=this._textCache[t])?this._textCache[t]={}:s)[r])&&(o=s[r]={});var r,o,s=e.replace(/0|1|2|3|4|5|6|7|8|9/g,"0");if(!(a=o[s])){for(var h=document.createElementNS("http://www.w3.org/2000/svg","text"),e=(-1!==e.indexOf("<br>")?m(e,h,-9999):(e=document.createTextNode(e),h.appendChild(e)),h.style.position="absolute",h.style.maxWidth=l,h.setAttributeNS(null,"x",-9999),h.setAttributeNS(null,"y",-9999),"object"==typeof i?(h.style.font=r,h.style.fill=i.fill):"string"==typeof i&&h.setAttribute("class",i),this.getSVGLayer(t).appendChild(h),h.getBBox()),a=o[s]={width:e.width,height:e.height,measured:!0,element:h,positions:[]};h.firstChild;)h.removeChild(h.firstChild);h.parentNode.removeChild(h)}return a.measured=!0,a},t.prototype.addText=function(t,e,i,n,l,r,o,s,h,a){var d=this.getTextInfo(t,n,l,r,o),p=d.positions;"center"===s?e-=d.width/2:"right"===s&&(e-=d.width),"middle"===h?i-=d.height/2:"bottom"===h&&(i-=d.height),i+=.75*d.height;for(var c,f=0;p[f];f++){if((c=p[f]).x===e&&c.y===i&&c.text===n)return c.active=!0,void y(c.element,a);if(!1===c.active)return c.active=!0,-1!==(c.text=n).indexOf("<br>")?(i-=.25*d.height,m(n,c.element,e)):c.element.textContent=n,c.element.setAttributeNS(null,"x",e),c.element.setAttributeNS(null,"y",i),c.x=e,c.y=i,void y(c.element,a)}c={active:!0,rendered:!1,element:p.length?d.element.cloneNode():d.element,text:n,x:e,y:i},p.push(c),-1!==n.indexOf("<br>")?(i-=.25*d.height,m(n,c.element,e)):c.element.textContent=n,c.element.setAttributeNS(null,"x",e),c.element.setAttributeNS(null,"y",i),c.element.style.textAlign=s,y(c.element,a)};var m=function(t,e,i){for(var n,l=t.split("<br>"),r=0;r<l.length;r++)e.childNodes[r]?n=e.childNodes[r]:(n=document.createElementNS("http://www.w3.org/2000/svg","tspan"),e.appendChild(n)),n.textContent=l[r],n.setAttributeNS(null,"dy",(0===r?0:1)+"em"),n.setAttributeNS(null,"x",i)};t.prototype.removeText=function(t,e,i,n,l,r){var o,s;if(null==n){var h=this._textCache[t];if(null!=h)for(var a in h)if(hasOwnProperty.call(h,a)){var d,p=h[a];for(d in p)hasOwnProperty.call(p,d)&&p[d].positions.forEach(function(t){t.active=!1})}}else(o=this.getTextInfo(t,n,l,r)).positions.forEach(function(t){s=i+.75*o.height,t.x===e&&t.y===s&&t.text===n&&(t.active=!1)})},t.prototype.clearCache=function(){var t,e=this._textCache;for(t in e)if(hasOwnProperty.call(e,t))for(var i=this.getSVGLayer(t);i.firstChild;)i.removeChild(i.firstChild);this._textCache={}},window.Flot||(window.Flot={}),window.Flot.Canvas=t}(jQuery);