!function(m){function e(r,e,n,o){var i,p;e.points.errorbars&&(i=[{x:!0,number:!0,required:!0},{y:!0,number:!0,required:!0}],"x"!==(p=e.points.errorbars)&&"xy"!==p||(e.points.xerr.asymmetric&&i.push({x:!0,number:!0,required:!0}),i.push({x:!0,number:!0,required:!0})),"y"!==p&&"xy"!==p||(e.points.yerr.asymmetric&&i.push({y:!0,number:!0,required:!0}),i.push({y:!0,number:!0,required:!0})),o.format=i)}function O(r,e,n,o,i,p,a,t,s,l,u){o+=l,i+=l,p+=l,"x"===e.err?(n+s<i?x(r,[[i,o],[Math.max(n+s,u[0]),o]]):a=!1,p<n-s?x(r,[[Math.min(n-s,u[1]),o],[p,o]]):t=!1):(i<o-s?x(r,[[n,i],[n,Math.min(o-s,u[0])]]):a=!1,o+s<p?x(r,[[n,Math.max(o+s,u[1])],[n,p]]):t=!1),s=null!=e.radius?e.radius:s,a&&("-"===e.upperCap?"x"===e.err?x(r,[[i,o-s],[i,o+s]]):x(r,[[n-s,i],[n+s,i]]):m.isFunction(e.upperCap)&&("x"===e.err?e.upperCap(r,i,o,s):e.upperCap(r,n,i,s))),t&&("-"===e.lowerCap?"x"===e.err?x(r,[[p,o-s],[p,o+s]]):x(r,[[n-s,p],[n+s,p]]):m.isFunction(e.lowerCap)&&("x"===e.err?e.lowerCap(r,p,o,s):e.lowerCap(r,n,p,s)))}function x(r,e){r.beginPath(),r.moveTo(e[0][0],e[0][1]);for(var n=1;n<e.length;n++)r.lineTo(e[n][0],e[n][1]);r.stroke()}function n(r,j){var e=r.getPlotOffset();j.save(),j.translate(e.left,e.top),m.each(r.getData(),function(r,e){if(e.points.errorbars&&(e.points.xerr.show||e.points.yerr.show)){var n,o=j,i=e,p=i.datapoints.points,a=i.datapoints.pointsize,t=[i.xaxis,i.yaxis],s=i.points.radius,l=[i.points.xerr,i.points.yerr],u=!1,m=(t[0].p2c(t[0].max)<t[0].p2c(t[0].min)&&(u=!0,n=l[0].lowerCap,l[0].lowerCap=l[0].upperCap,l[0].upperCap=n),!1);t[1].p2c(t[1].min)<t[1].p2c(t[1].max)&&(m=!0,n=l[1].lowerCap,l[1].lowerCap=l[1].upperCap,l[1].upperCap=n);for(var x,c,h,y,d,w,C,b,f,g=0;g<i.datapoints.points.length;g+=a){c=g,f=b=C=w=d=y=h=void 0,h=(x=i).datapoints.points,C=w=d=y=null,b=x.points.xerr,f=x.points.yerr,"x"===(x=x.points.errorbars)||"xy"===x?b.asymmetric?(y=h[c+2],d=h[c+3],"xy"===x&&(f.asymmetric?(w=h[c+4],C=h[c+5]):w=h[c+4])):(y=h[c+2],"xy"===x&&(f.asymmetric?(w=h[c+3],C=h[c+4]):w=h[c+3])):"y"===x&&(f.asymmetric?(w=h[c+2],C=h[c+3]):w=h[c+2]),x=[y,d=null==d?y:d,w,C=null==C?w:C],b.show||(x[0]=null,x[1]=null),f.show||(x[2]=null,x[3]=null);for(var v=x,k=0;k<l.length;k++){var q,S,M,W,z,D,F,P,T=[t[k].min,t[k].max];v[k*l.length]&&(M=[q=p[g],S=p[g+1]][k]+v[k*l.length+1],W=[q,S][k]-v[k*l.length],"x"===l[k].err&&(S>t[1].max||S<t[1].min||M<t[0].min||W>t[0].max)||"y"===l[k].err&&(q>t[0].max||q<t[0].min||M<t[1].min||W>t[1].max)||(D=z=!0,M>T[1]&&(z=!1,M=T[1]),W<T[0]&&(D=!1,W=T[0]),("x"===l[k].err&&u||"y"===l[k].err&&m)&&(n=W,W=M,M=n,n=D,D=z,z=n,n=T[0],T[0]=T[1],T[1]=n),q=t[0].p2c(q),S=t[1].p2c(S),M=t[k].p2c(M),W=t[k].p2c(W),T[0]=t[k].p2c(T[0]),T[1]=t[k].p2c(T[1]),F=l[k].lineWidth||i.points.lineWidth,P=(null!=i.points.shadowSize?i.points:i).shadowSize,0<F&&0<P&&(o.lineWidth=P=P/2,o.strokeStyle="rgba(0,0,0,0.1)",O(o,l[k],q,S,M,W,z,D,s,P+P/2,T),o.strokeStyle="rgba(0,0,0,0.2)",O(o,l[k],q,S,M,W,z,D,s,P/2,T)),o.strokeStyle=l[k].color||i.color,o.lineWidth=F,O(o,l[k],q,S,M,W,z,D,s,0,T)))}}}}),j.restore()}m.plot.plugins.push({init:function(r){r.hooks.processRawData.push(e),r.hooks.draw.push(n)},options:{series:{points:{errorbars:null,xerr:{err:"x",show:null,asymmetric:null,upperCap:null,lowerCap:null,color:null,radius:null},yerr:{err:"y",show:null,asymmetric:null,upperCap:null,lowerCap:null,color:null,radius:null}}}},name:"errorbars",version:"1.0"})}(jQuery);