!function(m){"use strict";var y=m.plot.browser,t="click",k="hover";m.plot.plugins.push({init:function(d){var i,g=[];function o(e){var t=d.getOptions(),i=new CustomEvent("mouseevent");return i.pageX=e.detail.changedTouches[0].pageX,i.pageY=e.detail.changedTouches[0].pageY,i.clientX=e.detail.changedTouches[0].clientX,i.clientY=e.detail.changedTouches[0].clientY,t.grid.hoverable&&n(i,k,30),!1}function n(e,t,i){var o,n=d.getData();void 0!==e&&0<n.length&&void 0!==n[0].xaxis.c2p&&void 0!==n[0].yaxis.c2p&&(o=t+"able",c("plot"+t,e,function(e){return!1!==n[e][o]},i))}function a(e){i=e,n(d.getPlaceholder()[0].lastMouseMoveEvent=e,k)}function r(e){i=void 0,d.getPlaceholder()[0].lastMouseMoveEvent=void 0,c("plothover",e,function(e){return!1})}function s(e){n(e,t)}function l(){d.unhighlight(),d.getPlaceholder().trigger("plothovercleanup")}function c(t,e,i,o){var n=d.getOptions(),a=d.offset(),e=y.getPageXY(e),r=e.X-a.left,s=e.Y-a.top,l=d.c2p({left:r,top:s}),o=void 0!==o?o:n.grid.mouseActiveRadius,c=(l.pageX=e.X,l.pageY=e.Y,d.findNearbyItems(r,s,i,o)),h=c[0];for(let e=1;e<c.length;++e)(void 0===h.distance||c[e].distance<h.distance)&&(h=c[e]);if(h?(h.pageX=parseInt(h.series.xaxis.p2c(h.datapoint[0])+a.left,10),h.pageY=parseInt(h.series.yaxis.p2c(h.datapoint[1])+a.top,10)):h=null,n.grid.autoHighlight){for(let e=0;e<g.length;++e){var p=g[e];(p.auto!==t||h&&p.series===h.series&&p.point[0]===h.datapoint[0]&&p.point[1]===h.datapoint[1])&&h||v(p.series,p.point)}h&&u(h.series,h.datapoint,t)}d.getPlaceholder().trigger(t,[l,h,c])}function u(e,t,i){"number"==typeof e&&(e=d.getData()[e]),"number"==typeof t&&(o=e.datapoints.pointsize,t=e.datapoints.points.slice(o*t,o*(t+1)));var o=h(e,t);-1===o?(g.push({series:e,point:t,auto:i}),d.triggerRedrawOverlay()):i||(g[o].auto=!1)}function v(e,t){var i;null==e&&null==t?(g=[],d.triggerRedrawOverlay()):("number"==typeof e&&(e=d.getData()[e]),"number"==typeof t&&(i=e.datapoints.pointsize,t=e.datapoints.points.slice(i*t,i*(t+1))),-1!==(i=h(e,t))&&(g.splice(i,1),d.triggerRedrawOverlay()))}function h(e,t){for(var i=0;i<g.length;++i){var o=g[i];if(o.series===e&&o.point[0]===t[0]&&o.point[1]===t[1])return i}return-1}function p(){l(),n(i,k)}function f(){n(i,k)}function b(e,t,i){var o,n,a,r,s,l,c,h,p,d,u=e.getPlotOffset();for(t.save(),t.translate(u.left,u.top),o=0;o<g.length;++o)(a=g[o]).series.bars.show?function(e,t,i){var o,n="string"==typeof e.highlightColor?e.highlightColor:m.color.parse(e.color).scale("a",.5).toString(),a=n,r=e.bars.barWidth[0]||e.bars.barWidth;switch(e.bars.align){case"left":o=0;break;case"right":o=-r;break;default:o=-r/2}i.lineWidth=e.bars.lineWidth,i.strokeStyle=n;n=e.bars.fillTowards||0,n=n>e.yaxis.min?Math.min(e.yaxis.max,n):e.yaxis.min;m.plot.drawSeries.drawBar(t[0],t[1],t[2]||n,o,o+r,function(){return a},e.xaxis,e.yaxis,i,e.bars.horizontal,e.bars.lineWidth)}(a.series,a.point,t):(n=a.series,a=a.point,r=t,s=e,d=p=h=c=l=void 0,c=a[0],a=a[1],h=n.xaxis,p=n.yaxis,d="string"==typeof n.highlightColor?n.highlightColor:m.color.parse(n.color).scale("a",.5).toString(),c<h.min||c>h.max||a<p.min||a>p.max||(l=n.points.radius+n.points.lineWidth/2,r.lineWidth=l,r.strokeStyle=d,d=1.5*l,c=h.p2c(c),a=p.p2c(a),r.beginPath(),"circle"===(l=n.points.symbol)?r.arc(c,a,d,0,2*Math.PI,!1):"string"==typeof l&&s.drawSymbol&&s.drawSymbol[l]&&s.drawSymbol[l](r,c,a,d,!1),r.closePath(),r.stroke()));t.restore()}d.hooks.bindEvents.push(function(e,t){((e=e.getOptions()).grid.hoverable||e.grid.clickable)&&(t[0].addEventListener("touchevent",l,!1),t[0].addEventListener("tap",o,!1)),e.grid.clickable&&t.bind("click",s),e.grid.hoverable&&(t.bind("mousemove",a),t.bind("mouseleave",r))}),d.hooks.shutdown.push(function(e,t){t[0].removeEventListener("tap",o),t[0].removeEventListener("touchevent",l),t.unbind("mousemove",a),t.unbind("mouseleave",r),t.unbind("click",s),g=[]}),d.hooks.processOptions.push(function(e,t){e.highlight=u,e.unhighlight=v,(t.grid.hoverable||t.grid.clickable)&&(e.hooks.drawOverlay.push(b),e.hooks.processDatapoints.push(p),e.hooks.setupGrid.push(f)),i=e.getPlaceholder()[0].lastMouseMoveEvent})},options:{grid:{hoverable:!1,clickable:!1}},name:"hover",version:"0.1"})}(jQuery);