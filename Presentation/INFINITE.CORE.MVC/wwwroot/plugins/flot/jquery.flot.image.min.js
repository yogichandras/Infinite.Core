!function(r){function i(a,i,e){var n=a.getPlotOffset();if(e.images&&e.images.show)for(var o=e.datapoints.points,t=e.datapoints.pointsize,r=0;r<o.length;r+=t){var s,m,h,p,u,g=o[r],c=o[r+1],l=o[r+2],f=o[r+3],d=o[r+4],x=e.xaxis,w=e.yaxis;!g||g.width<=0||g.height<=0||(f<c&&(s=f,f=c,c=s),d<l&&(s=d,d=l,l=s),"center"===e.images.anchor&&(c-=s=.5*(f-c)/(g.width-1),f+=s,l-=s=.5*(d-l)/(g.height-1),d+=s),c===f)||l===d||c>=x.max||f<=x.min||l>=w.max||d<=w.min||(h=m=0,p=g.width,u=g.height,c<x.min&&(m+=(p-m)*(x.min-c)/(f-c),c=x.min),f>x.max&&(p+=(p-m)*(x.max-f)/(f-c),f=x.max),l<w.min&&(u+=(h-u)*(w.min-l)/(d-l),l=w.min),d>w.max&&(h+=(h-u)*(w.max-d)/(d-l),d=w.max),c=x.p2c(c),f=x.p2c(f),l=w.p2c(l),f<c&&(s=f,f=c,c=s),(d=w.p2c(d))<l&&(s=d,d=l,l=s),s=i.globalAlpha,i.globalAlpha*=e.images.alpha,i.drawImage(g,m,h,p-m,u-h,c+n.left,l+n.top,f-c,d-l),i.globalAlpha=s)}}function e(a,i,e,n){i.images.show&&(n.format=[{required:!0},{x:!0,number:!0,required:!0},{y:!0,number:!0,required:!0},{x:!0,number:!0,required:!0},{y:!0,number:!0,required:!0}])}r.plot.image={},r.plot.image.loadDataImages=function(a,i,e){var n=[],o=[],t=i.series.images.show;r.each(a,function(a,i){(t||i.images.show)&&(i.data&&(i=i.data),r.each(i,function(a,i){"string"==typeof i[0]&&(n.push(i[0]),o.push(i))}))}),r.plot.image.load(n,function(n){r.each(o,function(a,i){var e=i[0];n[e]&&(i[0]=n[e])}),e()})},r.plot.image.load=function(a,n){var o=a.length,t={};0===o&&n({}),r.each(a,function(a,i){function e(){--o,t[i]=this,0===o&&n(t)}r("<img />").load(e).error(e).attr("src",i)})},r.plot.plugins.push({init:function(a){a.hooks.processRawData.push(e),a.hooks.drawSeries.push(i)},options:{series:{images:{show:!1,alpha:1,anchor:"corner"}}},name:"image",version:"1.1"})}(jQuery);